{"version":3,"sources":["utils/averagePriceSqm.js","utils/filter.js","fields/index.js","fields/location.js","fields/size_sqm.js","fields/price.js","fields/built_year.js","fields/rooms.js","fields/options.js","utils/index.js","utils/isEmpty.js","utils/visualize.js","components/TextInput.js","components/Checkbox.js","components/Field.js","containers/Form.js","components/PercentagePie.js","components/StackedBar.js","components/SimpleLine.js","components/SimpleArea.js","App.js","serviceWorker.js","index.js"],"names":["averagePriceSqm","arr","length","sum","map","item","price_sqm","reduce","a","b","null_arr","filter","filterOptions","value","allFilters","val","balcony","description","includes","push","apply","Object","toConsumableArray","filterRoom","room_count","parseInt","filterYear","result","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","num","operator","substr","built_year","next","concat","_iterator","Symbol","iterator","done","err","return","fields","name","label","id","placeholder","className","utils","obj","location","size_sqm","price","options","_value","toLowerCase","trim","split","_value2","slicedToArray","char","street","street_number","toString","len","filterLoc","min","max","console","log","filterSize","Math","pow","filterPrice","values","i","constructor","String","Array","every","v","state","rooms","years","price_loc","numBalcony","numAll","_ref","objectSpread","_ref2","bal","noBal","calcPieChart","data","rlen","roomData","room","roomCountGroup","dataWithRoomCount","calcPieLineChart","year","opts","yearsWithOptions","y","yearly","singleYear","_ref3","calcBarChart","seen","loc","round","hasOwnProperty","keys","vals","locWithPriceRange","singleLoc","max_price","min_price","calcAreaChart","Input","handleChange","react_default","createElement","react","type","onChange","e","Checkbox","checked","handleCheck","htmlFor","Field","p","TextInput","assign","key","components_Checkbox","Form","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_e$target","target","assertThisInitialized","setState","defineProperty","_e$target2","copy","index","indexOf","splice","handleSubmit","preventDefault","area","aprt_price","_this$state","allFields","onSubmit","field","components_Field","PureComponent","RADIAN","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","x","cos","sin","fixed","toFixed","fixed_pct","fill","textAnchor","dominantBaseline","PercentagePie","ResponsiveContainer","width","height","PieChart","Pie","isAnimationActive","dataKey","labelLine","Tooltip","StackedBar","COLORS","BarChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","YAxis","opt","Bar","stackId","Legend","wrapperStyle","display","SimpleLine","LineChart","tickFormatter","toLocaleString","formatter","Line","stroke","activeDot","r","SimpleArea","AreaChart","Area","filterFunc","isEmpty","visualize","App","handleFilter","apt","original","loading","axios","post","who_rules","response","containers_Form","components_PercentagePie","components_SimpleArea","components_StackedBar","components_SimpleLine","Component","Boolean","window","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2de8a805.chunk.js","sourcesContent":["export const averagePriceSqm = arr => {\r\n  if (!arr.length) {\r\n    return null;\r\n  }\r\n  const sum = arr.map(item => item.price_sqm).reduce((a, b) => a + b);\r\n  const null_arr = arr.filter(a => !a.price_sqm);\r\n  const len = arr.length - null_arr.length;\r\n  return sum / len;\r\n};\r\n","export const filterLoc = (arr, value) => {\r\n  value = value.toLowerCase().trim();\r\n  value = value.split(\" \");\r\n  const [char, num] = value;\r\n  if (!num) {\r\n    const len = char.length;\r\n    return arr.filter(a => a.street.toLowerCase().substr(0, len) === char);\r\n  } else {\r\n    return arr.filter(\r\n      a => a.street.toLowerCase() === char && a.street_number.toString() === num\r\n    );\r\n  }\r\n};\r\n\r\nexport const filterOptions = (arr, value) => {\r\n  const result = value.reduce((allFilters, val) => {\r\n    const filter = arr.filter(\r\n      a =>\r\n        val === \"balcony\"\r\n          ? a.balcony\r\n          : a.description && a.description.includes(val)\r\n    );\r\n    allFilters.push(...filter);\r\n    return allFilters;\r\n  }, []);\r\n  return result;\r\n};\r\n\r\nexport const filterPrice = (arr, value) => {\r\n  let { min, max } = value;\r\n  min = parseInt(min) || 0;\r\n  max = parseInt(max) || Math.pow(10, 7);\r\n  return arr.filter(\r\n    a => a.size_sqm * a.price_sqm >= min && a.size_sqm * a.price_sqm <= max\r\n  );\r\n};\r\n\r\nexport const filterRoom = (arr, value) => {\r\n  const result = value.reduce((allFilters, val) => {\r\n    const filter = arr.filter(a => a.room_count === parseInt(val));\r\n    allFilters.push(...filter);\r\n    return allFilters;\r\n  }, []);\r\n  return result;\r\n};\r\n\r\nexport const filterSize = (arr, value) => {\r\n  let { min, max } = value;\r\n  console.log(\"min\", min);\r\n  console.log(\"max\", max);\r\n  min = parseInt(min) || 0;\r\n  max = parseInt(max) || 200;\r\n  return arr.filter(a => a.size_sqm >= min && a.size_sqm <= max);\r\n};\r\n\r\nexport const filterYear = (arr, value) => {\r\n  let result = [];\r\n  for (let val of value) {\r\n    const num = parseInt(val);\r\n    const operator = val.substr(4);\r\n    let filter = [];\r\n    if (operator) {\r\n      filter = arr.filter(\r\n        a => (operator === \"<\" ? a.built_year < num : a.built_year > num)\r\n      );\r\n    } else {\r\n      const next = num + 20;\r\n      filter = arr.filter(a => a.built_year >= num && a.built_year < next);\r\n    }\r\n    result = [...result, ...filter];\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const filter = (arr, obj) => {\r\n  let result = [];\r\n  const { location, room_count, built_year, size_sqm, price, options } = obj;\r\n  if (location) {\r\n    result = filterLoc(arr, location);\r\n  }\r\n  if (size_sqm.min || size_sqm.max) {\r\n    result = filterSize(result.length ? result : arr, size_sqm);\r\n  }\r\n  if (price.min || price.max) {\r\n    result = filterPrice(result.length ? result : arr, price);\r\n  }\r\n  if (room_count.length) {\r\n    result = filterRoom(result.length ? result : arr, room_count);\r\n  }\r\n  if (built_year.length) {\r\n    result = filterYear(result.length ? result : arr, built_year);\r\n  }\r\n  if (options.length) {\r\n    result = filterOptions(result.length ? result : arr, options);\r\n  }\r\n  return result;\r\n};\r\n","import { built_year } from \"./built_year\";\r\nimport { options } from \"./options\";\r\nimport { rooms } from \"./rooms\";\r\nimport { size_sqm } from \"./size_sqm\";\r\nimport { price } from \"./price\";\r\nimport { location } from \"./location\";\r\n\r\nexport default {\r\n  loc: location,\r\n  area: size_sqm,\r\n  aprt_price: price,\r\n  year: built_year,\r\n  rooms,\r\n  opts: options\r\n};\r\n","export const location = [\r\n  {\r\n    name: \"location\",\r\n    label: \"Location\",\r\n    id: \"location\",\r\n    placeholder: \"Vallikatu\"\r\n  }\r\n];\r\n","export const size_sqm = [\r\n  {\r\n    name: \"size_sqm\",\r\n    placeholder: \"min\",\r\n    id: \"size_sqm_min\",\r\n    className: \"min\"\r\n  },\r\n  {\r\n    name: \"size_sqm\",\r\n    placeholder: \"max\",\r\n    id: \"size_sqm_max\",\r\n    className: \"max\"\r\n  }\r\n];\r\n","export const price = [\r\n  {\r\n    name: \"price\",\r\n    placeholder: \"min\",\r\n    id: \"price_min\",\r\n    className: \"min\"\r\n  },\r\n  {\r\n    name: \"price\",\r\n    placeholder: \"max\",\r\n    id: \"price_max\",\r\n    className: \"max\"\r\n  }\r\n];\r\n","export const built_year = [\r\n  {\r\n    name: \"built_year\",\r\n    label: \"< 1970\",\r\n    id: \"1970<\"\r\n  },\r\n  {\r\n    name: \"built_year\",\r\n    label: \"1970 - 1989\",\r\n    id: \"1970\"\r\n  },\r\n  {\r\n    name: \"built_year\",\r\n    label: \"1990 - 2009\",\r\n    id: \"1990\"\r\n  },\r\n  {\r\n    name: \"built_year\",\r\n    label: \"> 2010\",\r\n    id: \"2010>\"\r\n  }\r\n];\r\n","export const rooms = [\r\n  {\r\n    name: \"room_count\",\r\n    label: \"1R\",\r\n    id: \"1\"\r\n  },\r\n  {\r\n    name: \"room_count\",\r\n    label: \"2R\",\r\n    id: \"2\"\r\n  },\r\n  {\r\n    name: \"room_count\",\r\n    label: \"3R\",\r\n    id: \"3\"\r\n  },\r\n  {\r\n    name: \"room_count\",\r\n    label: \"4R\",\r\n    id: \"4\"\r\n  },\r\n  {\r\n    name: \"room_count\",\r\n    label: \"5R\",\r\n    id: \"5\"\r\n  }\r\n];\r\n","export const options = [\r\n  {\r\n    name: \"options\",\r\n    label: \"Balcony\",\r\n    id: \"balcony\"\r\n  },\r\n  {\r\n    name: \"options\",\r\n    label: \"Terrace\",\r\n    id: \"terassi\"\r\n  },\r\n  {\r\n    name: \"options\",\r\n    label: \"Storage\",\r\n    id: \"vh\"\r\n  },\r\n  {\r\n    name: \"options\",\r\n    label: \"Open-kitchen\",\r\n    id: \"avok\"\r\n  },\r\n  {\r\n    name: \"options\",\r\n    label: \"Kitchenette\",\r\n    id: \"kk\"\r\n  }\r\n];\r\n","import { averagePriceSqm } from \"./averagePriceSqm\";\r\nimport { visualize } from \"./visualize\";\r\nimport { filter } from \"./filter\";\r\nimport { isEmpty } from \"./isEmpty\";\r\n\r\nexport default {\r\n  filter,\r\n  averagePriceSqm,\r\n  isEmpty,\r\n  visualize\r\n};\r\n","export const isEmpty = obj => {\r\n  const values = Object.values(obj);\r\n  const isTruthy = values.map((val, i) => {\r\n    if (val.constructor === String) {\r\n      return !!val;\r\n    } else if (val.constructor === Array) {\r\n      return !!val.length;\r\n    } else {\r\n      return !(!val.min && !val.max);\r\n    }\r\n  });\r\n  return isTruthy.every(v => !v);\r\n};\r\n","import { filterOptions } from \"./filter\";\r\nimport { filterRoom } from \"./filter\";\r\nimport { averagePriceSqm } from \"./averagePriceSqm\";\r\nimport { filterYear } from \"./filter\";\r\nimport fields from \"../fields\";\r\n\r\nconst calcPieChart = (arr, balcony) => {\r\n  const numBalcony = filterOptions(arr, [\"balcony\"]).length;\r\n  const numAll = arr.length;\r\n  const len = balcony.length;\r\n  const [bal, noBal] = len\r\n    ? [{ ...balcony[0] }, { ...balcony[1] }]\r\n    : [{ name: \"balcony\" }, { name: \"no balcony\" }];\r\n  bal.value = numBalcony;\r\n  noBal.value = numAll - numBalcony;\r\n  return len ? [bal, noBal] : [...balcony, bal, noBal];\r\n};\r\n\r\nconst calcPieLineChart = (arr, data) => {\r\n  const rlen = data.length;\r\n  const { rooms } = fields;\r\n  const roomData = rooms.map((room, i) => {\r\n    const roomCountGroup = filterRoom(arr, [i + 1]);\r\n    const len = roomCountGroup.length;\r\n    const dataWithRoomCount = rlen\r\n      ? { ...data[i] }\r\n      : { name: `#${i + 1} room(s)` };\r\n    dataWithRoomCount.value = len;\r\n    dataWithRoomCount.price_sqm = averagePriceSqm(roomCountGroup);\r\n    return dataWithRoomCount;\r\n  });\r\n  return rlen ? roomData : [...data, ...roomData];\r\n};\r\n\r\nconst calcBarChart = (arr, years) => {\r\n  const { year, opts } = fields;\r\n  const len = years.length;\r\n  const yearsWithOptions = year.map((y, i) => {\r\n    const yearly = filterYear(arr, [y.id]);\r\n    const singleYear = len ? { ...years[i] } : { name: y.label };\r\n    opts.map(({ id }) => (singleYear[id] = filterOptions(yearly, [id]).length));\r\n    return singleYear;\r\n  });\r\n  return len ? yearsWithOptions : [...years, ...yearsWithOptions];\r\n};\r\n\r\nconst calcAreaChart = (arr, price_loc) => {\r\n  const seen = {};\r\n  arr.map(loc => {\r\n    const { street, street_number, price_sqm, size_sqm } = loc;\r\n    const name = `${street} ${street_number}`;\r\n    const price = Math.round(size_sqm * price_sqm);\r\n    if (!seen.hasOwnProperty(name)) {\r\n      seen[name] = [];\r\n    }\r\n    return seen[name].push(price);\r\n  });\r\n  const keys = Object.keys(seen);\r\n  const vals = Object.values(seen);\r\n  const len = price_loc.length;\r\n  const locWithPriceRange = vals.map((val, i) => {\r\n    const singleLoc = len ? { ...price_loc[i] } : { name: keys[i] };\r\n    singleLoc.max_price = Math.max(...val);\r\n    singleLoc.min_price = Math.min(...val);\r\n    return singleLoc;\r\n  });\r\n  return len ? locWithPriceRange : [...price_loc, ...locWithPriceRange];\r\n};\r\n\r\nexport const visualize = (arr, state) => {\r\n  const { balcony, rooms, years, price_loc } = state;\r\n  return {\r\n    balcony: calcPieChart(arr, balcony),\r\n    rooms: calcPieLineChart(arr, rooms),\r\n    years: calcBarChart(arr, years),\r\n    price_loc: calcAreaChart(arr, price_loc)\r\n  };\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Input = ({ name, id, className, placeholder, value, handleChange }) => {\r\n  if ([\"min\", \"max\"].includes(placeholder)) {\r\n    const { min, max } = value;\r\n    value = placeholder === \"min\" ? min : max;\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <input\r\n        type=\"text\"\r\n        name={name}\r\n        id={id && id}\r\n        className={className && className}\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={e => handleChange(e, className)}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n\r\nInput.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  placeholder: PropTypes.string.isRequired,\r\n  label: PropTypes.string,\r\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({})])\r\n    .isRequired,\r\n  handleChange: PropTypes.func.isRequired\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Checkbox = ({ name, id, label, checked, handleCheck }) => (\r\n  <Fragment>\r\n    <input\r\n      type=\"checkbox\"\r\n      name={name}\r\n      id={id}\r\n      checked={checked}\r\n      onChange={e => handleCheck(e, id)}\r\n    />\r\n    <label htmlFor={id}>{label}</label>\r\n    <br />\r\n  </Fragment>\r\n);\r\n\r\nexport default Checkbox;\r\n\r\nCheckbox.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  label: PropTypes.string,\r\n  checked: PropTypes.bool,\r\n  handleCheck: PropTypes.func.isRequired\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport TextInput from \"./TextInput\";\r\nimport Checkbox from \"./Checkbox\";\r\n\r\nconst Field = ({ p, arr, value, className, handleChange, handleCheck }) => (\r\n  <Fragment>\r\n    <p>{p}</p>\r\n    <div className={className && className}>\r\n      {arr.map(\r\n        (item, i) =>\r\n          handleChange ? (\r\n            <TextInput\r\n              key={i}\r\n              {...item}\r\n              value={value}\r\n              handleChange={handleChange}\r\n            />\r\n          ) : (\r\n            <Checkbox key={i} {...item} handleCheck={handleCheck} />\r\n          )\r\n      )}\r\n    </div>\r\n  </Fragment>\r\n);\r\n\r\nexport default Field;\r\n\r\nField.propTypes = {\r\n  p: PropTypes.string.isRequired,\r\n  arr: PropTypes.array.isRequired,\r\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({})]),\r\n  className: PropTypes.string,\r\n  handleChange: PropTypes.func,\r\n  handleCheck: PropTypes.func\r\n};\r\n","import React, { PureComponent, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"../styles/_Form.scss\";\r\nimport fields from \"../fields\";\r\n\r\nimport Field from \"../components/Field\";\r\n\r\nclass Form extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      location: \"\",\r\n      room_count: [],\r\n      built_year: [],\r\n      size_sqm: {\r\n        min: \"\",\r\n        max: \"\"\r\n      },\r\n      price: {\r\n        min: \"\",\r\n        max: \"\"\r\n      },\r\n      options: []\r\n    };\r\n  }\r\n\r\n  handleChange = (e, className) => {\r\n    const { name, value } = e.target;\r\n    const { state } = this;\r\n    switch (name) {\r\n    case \"location\":\r\n      this.setState({ [name]: value });\r\n      break;\r\n    default:\r\n      this.setState({\r\n        [name]: { ...state[name], [className]: value }\r\n      });\r\n      break;\r\n    }\r\n  };\r\n\r\n  handleCheck = (e, id) => {\r\n    const { name, checked } = e.target;\r\n    const { state } = this;\r\n    if (!checked) {\r\n      const copy = [...state[name]];\r\n      const index = copy.indexOf(id);\r\n      copy.splice(index, 1);\r\n      this.setState({\r\n        [name]: copy\r\n      });\r\n    } else {\r\n      this.setState({\r\n        [name]: [...state[name], id]\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { filter } = this.props;\r\n    filter(this.state);\r\n  };\r\n\r\n  render() {\r\n    const { loc, area, aprt_price, year, rooms, opts } = fields;\r\n    const { location, size_sqm, price } = this.state;\r\n    const { handleChange, handleCheck } = this;\r\n    const allFields = [\r\n      {\r\n        p: \"Location:\",\r\n        arr: loc,\r\n        value: location,\r\n        handleChange\r\n      },\r\n      {\r\n        p: \"Number of rooms:\",\r\n        arr: rooms,\r\n        className: \"flex\",\r\n        handleCheck\r\n      },\r\n      {\r\n        p: \"Built year:\",\r\n        arr: year,\r\n        handleCheck\r\n      },\r\n      {\r\n        p: \"Area:\",\r\n        arr: area,\r\n        className: \"grid\",\r\n        value: size_sqm,\r\n        handleChange\r\n      },\r\n      {\r\n        p: \"Price:\",\r\n        arr: aprt_price,\r\n        className: \"grid\",\r\n        value: price,\r\n        handleChange\r\n      },\r\n      {\r\n        p: \"Other options\",\r\n        arr: opts,\r\n        handleCheck\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <form onSubmit={this.handleSubmit}>\r\n        {allFields.map((field, i) => (\r\n          <Field key={i} {...field} />\r\n        ))}\r\n        <Fragment>\r\n          <input type=\"submit\" value=\"Search data\" />\r\n        </Fragment>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form;\r\n\r\nForm.propTypes = {\r\n  filter: PropTypes.func.isRequired\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { PieChart, Pie, Tooltip, ResponsiveContainer } from \"recharts\";\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent,\r\n  index\r\n}) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n  const fixed = parseInt((percent * 100).toFixed(0));\r\n  const fixed_pct = !fixed ? \"\" : `${fixed}%`;\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"white\"\r\n      textAnchor={x > cx ? \"start\" : \"end\"}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {fixed_pct}\r\n    </text>\r\n  );\r\n};\r\n\r\nconst PercentagePie = ({ balcony, rooms }) => (\r\n  <ResponsiveContainer width=\"100%\" height={300}>\r\n    <PieChart width={800} height={300}>\r\n      <Pie\r\n        isAnimationActive={false}\r\n        data={balcony}\r\n        dataKey=\"value\"\r\n        outerRadius={70}\r\n        fill=\"#8884d8\"\r\n        labelLine={false}\r\n        label={renderCustomizedLabel}\r\n      />\r\n      <Pie\r\n        isAnimationActive={false}\r\n        data={rooms}\r\n        dataKey=\"value\"\r\n        outerRadius={95}\r\n        innerRadius={75}\r\n        fill=\"#82ca9d\"\r\n        label\r\n      />\r\n      <Tooltip />\r\n    </PieChart>\r\n  </ResponsiveContainer>\r\n);\r\n\r\nexport default PercentagePie;\r\n\r\nPercentagePie.propTypes = {\r\n  balcony: PropTypes.array.isRequired,\r\n  rooms: PropTypes.array.isRequired\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer\r\n} from \"recharts\";\r\n\r\nconst StackedBar = ({ data, opts }) => {\r\n  const COLORS = [\"#17becf\", \"#82ca9d\", \"#FFBB28\", \"#8884d8\", \"#FF8042\"];\r\n\r\n  return (\r\n    <ResponsiveContainer width=\"100%\" height={350}>\r\n      <BarChart\r\n        width={480}\r\n        height={350}\r\n        data={data}\r\n        margin={{ top: 50, right: 0, left: 0, bottom: 0 }}\r\n      >\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis dataKey=\"name\" />\r\n        <YAxis />\r\n        <Tooltip />\r\n        {opts.map((opt, i) => (\r\n          <Bar key={i} dataKey={opt.id} stackId=\"a\" fill={COLORS[i]} />\r\n        ))}\r\n        <Legend wrapperStyle={{ left: \"25%\", display: \"flex\" }} />\r\n      </BarChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default StackedBar;\r\n\r\nStackedBar.propTypes = {\r\n  data: PropTypes.array.isRequired,\r\n  opts: PropTypes.array.isRequired\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer\r\n} from \"recharts\";\r\n\r\nconst SimpleLine = ({ data }) => (\r\n  <ResponsiveContainer width=\"100%\" height={350}>\r\n    <LineChart\r\n      width={570}\r\n      height={350}\r\n      data={data}\r\n      margin={{ top: 60, right: 30, left: 15, bottom: 5 }}\r\n    >\r\n      <XAxis dataKey=\"name\" />\r\n      <YAxis tickFormatter={value => value.toLocaleString()} />\r\n      <CartesianGrid strokeDasharray=\"3 3\" />\r\n      <Tooltip formatter={value => value.toFixed(1).toLocaleString()} />\r\n      <Legend wrapperStyle={{ left: \"35%\" }} />\r\n      <Line\r\n        type=\"monotone\"\r\n        dataKey=\"price_sqm\"\r\n        stroke=\"#17becf\"\r\n        activeDot={{ r: 9 }}\r\n      />\r\n    </LineChart>\r\n  </ResponsiveContainer>\r\n);\r\n\r\nexport default SimpleLine;\r\n\r\nSimpleLine.propTypes = {\r\n  data: PropTypes.array.isRequired\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {\r\n  AreaChart,\r\n  Area,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer\r\n} from \"recharts\";\r\n\r\nconst SimpleArea = ({ data }) => (\r\n  <ResponsiveContainer width=\"100%\" height={300}>\r\n    <AreaChart\r\n      width={590}\r\n      height={300}\r\n      data={data}\r\n      margin={{ top: 25, right: 40, left: 20, bottom: 0 }}\r\n    >\r\n      <CartesianGrid strokeDasharray=\"3 3\" />\r\n      <XAxis dataKey=\"name\" />\r\n      <YAxis tickFormatter={value => value.toLocaleString()} />\r\n      <Tooltip formatter={value => value.toLocaleString()} />\r\n      <Area\r\n        type=\"monotone\"\r\n        dataKey=\"min_price\"\r\n        stackId=\"1\"\r\n        stroke=\"#8884d8\"\r\n        fill=\"#8884d8\"\r\n      />\r\n      <Area\r\n        type=\"monotone\"\r\n        dataKey=\"max_price\"\r\n        stackId=\"1\"\r\n        stroke=\"#82ca9d\"\r\n        fill=\"#82ca9d\"\r\n      />\r\n    </AreaChart>\r\n  </ResponsiveContainer>\r\n);\r\n\r\nexport default SimpleArea;\r\n\r\nSimpleArea.propTypes = {\r\n  data: PropTypes.array.isRequired\r\n};\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./styles/_App.scss\";\r\nimport filterFunc from \"./utils\";\r\nimport fields from \"./fields\";\r\n\r\nimport Form from \"./containers/Form\";\r\nimport PercentagePie from \"./components/PercentagePie\";\r\nimport StackedBar from \"./components/StackedBar\";\r\nimport SimpleLine from \"./components/SimpleLine\";\r\nimport SimpleArea from \"./components/SimpleArea\";\r\n\r\nconst { filter, isEmpty, visualize } = filterFunc;\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      balcony: [],\r\n      rooms: [],\r\n      years: [],\r\n      price_loc: [],\r\n      loading: true\r\n    };\r\n    this.original = [];\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const url =\r\n      \"https://cc677kr6sc.execute-api.eu-central-1.amazonaws.com/data\";\r\n    const response = await axios.post(url, {\r\n      who_rules: \"kodit.io\"\r\n    });\r\n    this.original = [...this.original, ...response.data];\r\n    const { original, state } = this;\r\n    this.setState({\r\n      loading: false,\r\n      ...visualize(original, state)\r\n    });\r\n  }\r\n\r\n  handleFilter = values => {\r\n    const apt = [...this.original];\r\n    const data = isEmpty(values) ? apt : filter(apt, values);\r\n    this.setState({\r\n      ...visualize(data, this.state)\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { balcony, rooms, years, price_loc } = this.state;\r\n    const { opts } = fields;\r\n    return (\r\n      <div className=\"App\">\r\n        <div>\r\n          <Form filter={this.handleFilter} />\r\n        </div>\r\n        <div className=\"grid-45\">\r\n          <PercentagePie balcony={balcony} rooms={rooms} />\r\n          <SimpleArea data={price_loc} />\r\n          <StackedBar data={years} opts={opts} />\r\n          <SimpleLine data={rooms} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}